{"project_name":"AVATARIA","version":"1.0","note":"Cada usuario OSO puede crear UN avatar. Toda la arquitectura, BBDD, app y lógica se ajusta a esta regla. El sistema debe garantizar nivel de modelo de datos, lógica de negocio y UX.","cto_behaviour":{"can_propose_new_features":true,"policy":"El CTO IA puede proponer funcionalidades nuevas y soluciones adicionales NO incluidas originalmente en el roadmap siempre que: (1) respete la visión del producto, (2) mejore claramente la experiencia de usuario, la monetización o la estabilidad técnica, y (3) documente los cambios en el roadmap. El CTO debe explicar brevemente la razón de cada propuesta y siempre pedir aprobación para ejecutar cambios.","block_0_description_global":"Aplicación móvil donde cada usuario crea un único avatar con IA (aparecia por prompts), habla con él mediante chat o voz, recibe videos generados, y el avatar tiene memoria real a largo plazo. El sistema incluye tienda, marketplaces, regalos, y citas entre avatares de diferentes usuarios.","0.2_main_modules":"A_usuarios_avatar_core":"Gestión de usuario y avatar, datos, apariencia y perfil.","B_ai_brain":"Chat IA, memoria, voz, vídeo.","C_economy":"Planes, tienda, cofres, marketplace.","D_social_layer":"Buscador, perfil exclusivo, citas entre avatares.","E_admin_security":"Panel admin, seguridad RLS, logs, analítica.","0.3_system_actors":{"user":"Usa la app móvil. Crea 1 avatar. Chatea. Compra. Vende.","avatar":"Persona IA con memoria, apariencia y personalidad.","admin":"Gestor usuarios, planes, precios, cofres, marketplace."},"0.4_architecture_overview":{"mobile_app":"React Native + Expo (SDK 54+)","backend":"Node.js + Express + TypeScript","database":"Supabase (Auth, Postgres, Storage, RLS, pgvector)","ai":"OpenAI (chat, embeddings, TTS, STT, image/video)","payments":"Stripe"},"0.5_key_flows":{"registration_and_single_avatar":"Usuario se registra vía Supabase Auth. Al entrar, si no tiene avatar, debe crear 1. Ese será el único avatar con cuenta y se asociará al usuario.","chat_flow":"Usuario -> mensaje (texto/voz) - > backend - > OpenAI - > respuesta - > guardado en avatar_mensajes - > respuesta a cliente.","store_purchase_flow":"Usuario compra/consume en Store + webhook backend - > verifica compra en user_items o user_chests + backend responde - > guarda en avatar_mensajes, si aplica, avatar_memories - > devuelve a app."},"marketplace_rules":"Reglas del mercado P2P.","dating_engine":"Motor chat avatar con almacenamiento de mensajes y memoria a largo plazo (embeddings)."},"phases":[{"phase":"fase 0","status":"in_progress","summary":"Definir y modelar AVATAR, diseña app, módulos y actores.","details":"Añadido archivo /osso/osso.json para creación en esta fase.","tasks":[{"id":"0.1","description":"Definir propuesta de valor con IA generando avatar con memoria y flujo discusiones.","status":"done"},{"id":"0.2","description":"Diseño general app, core avatar, módulos IA, tienda, social.","status":"done"},{"id":"0.3","description":"Definir actores sistema: usuario, avatar, admin.","status":"done"},{"id":"0.4","description":"Definir arquitectura móvil/ backend / base datos y seguridad.","status":"done"},{"id":"0.5","description":"Documentar flujos clave: registro, generación avatar, compra.","status":"done"},{"id":"0.6","description":"Crear archivo /osso/osso.json","status":"pending"}]}]}