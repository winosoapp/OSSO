{"project_name":"AVATARIA","version":"1.0","note":"Cada usuario OSSO puede crear UN avatar. Toda la arquitectura, BBDB, app y lógica se ajusta a esta regla. El sistema debe garantizar nivel de modelo de datos, lógica de negocio y UX.","cto_behaviour":{"can_propose_new_features":true,"policy":"El CTO IA puede proponer funcionalidades nuevas y soluciones adicionales NO incluidas originalmente en el roadmap siempre que: (1) respete la visión del producto, (2) mejore claramente la experiencia de usuario, la monetización o la estabilidad técnica, y (3) documente los cambios en el roadmap.","block_0_description_global":"Aplicación móvil donde cada usuario crea un único avatar con IA (aparecía por prompts), habla con el medio chat o voz, recibe vídeos generados, y el avatar tiene memoria real a largo plazo. El sistema incluye tienda, marketplaces, regalos, y citas entre avatares de diferentes usuarios.","0.2_main_modules":"A_usuarios_avatar_core":"Gestión de usuario y avatar, datos, apariencia y perfil.","B_ai_brain":"Chat IA, memoria, voz, video.","C_economy":"Planes, tienda, cofres, marketplaces.","D_social_layer":"Buscador, perfil exclusivo, citas entre avatares.","E_admin_security":"Panel admin, seguridad RLS, logs, analítica.","0.3_system_actors":{"user":"Usa la app móvil. Crea 1 avatar. Chatea. Compra. Vende.","avatar":"Persona IA con memoria, apariencia y personalidad.","admin":"Gestor usuarios, planes, precios, cofres, marketplace."},"0.4_architecture_overview":{"mobile_app":"React Native + Expo (SDK 54+)","backend":"Node.js + Express + TypeScript","database":"Supabase (Auth, Postgres, Storage, RLS, pgvector)","ai":"OpenAI (chat, embeddings, TTS, STT, image/video)"},"0.5_key_flows":{"registration_and_single_avatar":"Usuario se registra vía Supabase Auth. Al entrar, si no tiene avatar, debe crear uno único y socializar al usuario.","chat_flow":"Usuario -> mensaje (texto/voz) -> backend -> OpenAI -> respuesta -> guardado en avatar_mensajes -> respuesta a cliente.","store_purchase_flow":"Usuario compra/consume en Store + webhook backend -> verificación en user_items o user_chests + backend responde -> guarda en avatar_mensajes, si aplica, avatar_memories -> devuelve a app."},"marketplace_rules":"Reglas del mercado P2P.","dating_engine":"Motor chat avatar con almacenamiento de mensajes y memoria a largo plazo (embeddings)."}